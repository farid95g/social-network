(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[0],{12:function(e,s,t){e.exports={messages:"Messages_messages__3nihU",messageSenders:"Messages_messageSenders__1irsX",sender:"Messages_sender__EX4OI",active:"Messages_active__1ubTQ",messagesBlock:"Messages_messagesBlock__p06jK",newMessage:"Messages_newMessage__1cK15"}},15:function(e,s,t){e.exports={newPost:"Posts_newPost__2mZ0p",btnAdd:"Posts_btnAdd__3IjVO",btnRemove:"Posts_btnRemove__DgHcl",postsWrapper:"Posts_postsWrapper__523r-"}},16:function(e,s,t){e.exports={pagination:"Users_pagination__2H4CE",selectedPage:"Users_selectedPage__2qp5H",user:"Users_user__2d3Ye",userPhoto:"Users_userPhoto__3qJ0S",userInfo:"Users_userInfo__1aiDT"}},30:function(e,s,t){e.exports={post:"Post_post__1bo2R",like:"Post_like__3NR_q"}},40:function(e,s,t){e.exports={header:"Header_header__c-4W_"}},41:function(e,s,t){},42:function(e,s,t){e.exports={profileInfo:"ProfileInfo_profileInfo__oW-tL"}},48:function(e,s,t){},49:function(e,s,t){},5:function(e,s,t){e.exports={sidebar:"Sidebar_sidebar__2ZvQ8",nav:"Sidebar_nav__190zB",item:"Sidebar_item__60To_",active:"Sidebar_active__2lcjf"}},74:function(e,s,t){},75:function(e,s,t){},76:function(e,s,t){},77:function(e,s,t){"use strict";t.r(s);var n=t(1),a=t.n(n),c=t(19),r=t.n(c),i=(t(48),t(49),t(40)),o=t.n(i),l=t.p+"static/media/logo.6ce24c58.svg",u=t(0),j=function(){return Object(u.jsx)("header",{className:o.a.header,children:Object(u.jsx)("img",{src:l,alt:"company logo"})})},d=t(5),p=t.n(d),b=t(6),g=function(){return Object(u.jsx)("aside",{className:p.a.sidebar,children:Object(u.jsx)("nav",{className:p.a.nav,children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{className:"".concat(p.a.item," ").concat(p.a.active),children:Object(u.jsx)(b.b,{to:"/profile",activeClassName:p.a.active,children:"Profile"})}),Object(u.jsx)("li",{className:p.a.item,children:Object(u.jsx)(b.b,{to:"/messages",activeClassName:p.a.active,children:"Messages"})}),Object(u.jsx)("li",{className:p.a.item,children:Object(u.jsx)(b.b,{to:"/users",activeClassName:p.a.active,children:"Users"})}),Object(u.jsx)("li",{className:p.a.item,children:Object(u.jsx)(b.b,{to:"/news",activeClassName:p.a.active,children:"News"})}),Object(u.jsx)("li",{className:p.a.item,children:Object(u.jsx)(b.b,{to:"/music",activeClassName:p.a.active,children:"Music"})}),Object(u.jsx)("li",{className:p.a.item,children:Object(u.jsx)(b.b,{to:"/options",activeClassName:p.a.active,children:"Options"})})]})})})},O=t(2),h=t(21),m=t(22),f=t(25),x=t(23),v=t(41),_=t.n(v),P=t.p+"static/media/preloader.50cd3412.gif",w=function(e){return Object(u.jsx)("div",{children:Object(u.jsx)("img",{src:P,alt:"preloader",width:"250"})})},N=t(42),C=t.n(N),y=function(e){return e.profile?Object(u.jsxs)("div",{className:C.a.profileInfo,children:[Object(u.jsx)("img",{src:"https://wallpaperaccess.com/full/3949076.jpg",alt:"cover img"}),Object(u.jsx)("div",{children:Object(u.jsx)("img",{src:e.profile.photos.large,alt:"profile img"})})]}):Object(u.jsx)(w,{})},k=t(15),S=t.n(k),T=t(30),U=t.n(T),M=t(43),E=function(e){return Object(u.jsx)("div",{className:U.a.post,children:Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{src:"https://freesvg.org/img/Male-Avatar.png",alt:"profile img"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{children:e.message}),Object(u.jsx)("br",{}),Object(u.jsxs)("span",{className:U.a.like,children:[Object(u.jsx)(M.a,{}),Object(u.jsx)("span",{children:e.likesCount})]})]})]})})},I=function(e){var s=e.posts.map((function(e){return Object(u.jsx)(E,{id:e.id,message:e.message,likesCount:e.likesCount},e.id)}));return Object(u.jsxs)("div",{className:S.a.posts,children:[Object(u.jsx)("h3",{children:"My Posts"}),Object(u.jsxs)("div",{className:S.a.newPost,children:[Object(u.jsx)("textarea",{onChange:function(s){var t=s.target.value;e.updateNewPostText(t)},value:e.newPostText}),Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{className:S.a.btnAdd,onClick:function(){e.addPost()},children:"Add post"}),Object(u.jsx)("button",{className:S.a.btnRemove,children:"Remove post"})]})]}),Object(u.jsx)("div",{className:S.a.postsWrapper,children:s})]})},F=t(24),A="ADD-POST",B="UPDATE-NEW-POST-TEXT",R="SET-USER-PROFILE",D={posts:[{id:1,message:"Hello. How are you?",likesCount:12},{id:2,message:"It's my first post",likesCount:11},{id:3,message:"Bla bla",likesCount:54},{id:4,message:"Ok, anyway",likesCount:6}],newPostText:"",profile:null},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,s=arguments.length>1?arguments[1]:void 0;switch(s.type){case A:return Object(O.a)(Object(O.a)({},e),{},{posts:[].concat(Object(F.a)(e.posts),[{id:e.posts.length+1,message:e.newPostText,likesCount:0}]),newPostText:""});case B:return Object(O.a)(Object(O.a)({},e),{},{newPostText:s.newText});case R:return Object(O.a)(Object(O.a)({},e),{},{profile:s.profile});default:return e}},z=t(13),W=Object(z.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{updateNewPostText:function(s){var t=function(e){return{type:B,newText:e}}(s);e(t)},addPost:function(){e({type:A})}}}))(I),L=function(e){return Object(u.jsxs)("section",{className:_.a.profile,children:[Object(u.jsx)(y,{profile:e.profile}),Object(u.jsx)(W,{})]})},G=t(18),q=t(4),J=function(e){Object(f.a)(t,e);var s=Object(x.a)(t);function t(){return Object(h.a)(this,t),s.apply(this,arguments)}return Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,s=this.props.match.params.userId;s||(s=2),G.get("https://social-network.samuraijs.com/api/1.0//profile/".concat(s)).then((function(s){e.props.setUserProfile(s.data)}))}},{key:"render",value:function(){return Object(u.jsx)(L,Object(O.a)(Object(O.a)({},this.props),{},{profile:this.props.profile}))}}]),t}(a.a.Component),X=Object(q.e)(J),K=Object(z.b)((function(e){return{profile:e.profilePage.profile}}),{setUserProfile:function(e){return{type:R,profile:e}}})(X),Q=t(12),Y=t.n(Q),Z=function(e){return Object(u.jsx)("div",{className:Y.a.message,children:Object(u.jsx)("span",{children:e.message})})},V=function(e){var s="/messages/".concat(e.id);return Object(u.jsx)("li",{className:Y.a.sender+" "+Y.a.active,children:Object(u.jsx)(b.b,{to:s,activeClassName:Y.a.active,children:e.name})})},$=function(e){var s=e.state.senders.map((function(e){return Object(u.jsx)(V,{id:e.id,name:e.name},e.id)})),t=e.state.messages.map((function(e){return Object(u.jsx)(Z,{id:e.id,message:e.message},e.id)}));return Object(u.jsxs)("section",{className:Y.a.messages,children:[Object(u.jsx)("div",{className:Y.a.messageSenders,children:Object(u.jsx)("ul",{children:s})}),Object(u.jsxs)("div",{className:Y.a.messagesBlock,children:[t,Object(u.jsxs)("div",{className:Y.a.newMessage,children:[Object(u.jsx)("textarea",{onChange:function(s){var t=s.target.value;e.updateNewMessageBody(t)},value:e.state.newMessageBody,placeholder:"Enter your message"}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{onClick:function(){e.sendMessage()},children:"Send"})})]})]})]})},ee="SEND-MESSAGE",se="UPDATE-NEW-MESSAGE-BODY",te={senders:[{id:1,name:"Albert Einstein"},{id:2,name:"Nikola Tesla"},{id:3,name:"Marie Curie"},{id:4,name:"Stephen Hawking"},{id:5,name:"Neil De Grass Tyson"},{id:6,name:"Richard Feynman"}],messages:[{id:1,message:"Hi"},{id:2,message:"How are you?"},{id:3,message:"Fine, thanks, and you?"},{id:4,message:"Ok"},{id:5,message:"No problem"}],newMessageBody:""},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,s=arguments.length>1?arguments[1]:void 0;switch(s.type){case ee:var t=e.newMessageBody;return Object(O.a)(Object(O.a)({},e),{},{newMessageBody:"",messages:[].concat(Object(F.a)(e.messages),[{id:e.messages.length+1,message:t}])});case se:return Object(O.a)(Object(O.a)({},e),{},{newMessageBody:s.body});default:return e}},ae=Object(z.b)((function(e){return{state:e.messagesPage}}),(function(e){return{updateNewMessageBody:function(s){var t=function(e){return{type:se,body:e}}(s);e(t)},sendMessage:function(){e({type:ee})}}}))($),ce=(t(74),function(){return Object(u.jsx)("section",{children:Object(u.jsx)("h5",{children:"News"})})}),re=(t(75),function(){return Object(u.jsx)("section",{children:Object(u.jsx)("h5",{children:"Music"})})}),ie=(t(76),function(){return Object(u.jsx)("section",{children:Object(u.jsx)("h5",{children:"Options"})})}),oe=t(16),le=t.n(oe),ue=t.p+"static/media/avatar.6087f801.jpg",je=function(e){for(var s=Math.ceil(e.totalUsersCount/e.pageSize),t=[],n=1;n<=s;n++)t.push(n);return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:le.a.pagination,children:t.map((function(s,t){return Object(u.jsx)("button",{className:e.currentPage===s&&le.a.selectedPage,onClick:function(){e.onPageChanged(s)},children:s},t)}))}),e.users.map((function(s){return Object(u.jsxs)("div",{className:le.a.user,children:[Object(u.jsxs)("div",{children:[Object(u.jsx)(b.b,{to:"/profile/".concat(s.id),children:Object(u.jsx)("img",{src:s.photos.small?s.photos.small:ue,alt:"avatar img",className:le.a.userPhoto})}),Object(u.jsx)("br",{}),s.followed?Object(u.jsx)("button",{onClick:function(){return e.unfollow(s.id)},children:"Unfollow"}):Object(u.jsx)("button",{onClick:function(){return e.follow(s.id)},children:"Follow"})]}),Object(u.jsxs)("div",{className:le.a.userInfo,children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{children:s.name}),Object(u.jsx)("br",{}),Object(u.jsx)("span",{children:s.status})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{children:"u.location.country"}),Object(u.jsx)("br",{}),Object(u.jsx)("span",{children:"u.location.city"})]})]})]},s.id)}))]})},de="FOLLOW",pe="UNFOLLOW",be="SET_USERS",ge="SET_CURRENT_PAGE",Oe="SET_TOTAL_USERS_COUNT",he="TOGGLE_IS_FETCHING",me={users:[],pageSize:5,totalUsersCount:54,currentPage:1,isFetching:!1},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,s=arguments.length>1?arguments[1]:void 0;switch(s.type){case de:return Object(O.a)(Object(O.a)({},e),{},{users:e.users.map((function(e){return e.id===s.userId?Object(O.a)(Object(O.a)({},e),{},{followed:!0}):e}))});case pe:return Object(O.a)(Object(O.a)({},e),{},{users:e.users.map((function(e){return e.id===s.userId?Object(O.a)(Object(O.a)({},e),{},{followed:!1}):e}))});case be:return Object(O.a)(Object(O.a)({},e),{},{users:s.users});case ge:return Object(O.a)(Object(O.a)({},e),{},{currentPage:s.currentPage});case Oe:return Object(O.a)(Object(O.a)({},e),{},{totalUsersCount:s.totalUsersCount});case he:return Object(O.a)(Object(O.a)({},e),{},{isFetching:s.isFetching});default:return e}},xe=function(e){Object(f.a)(t,e);var s=Object(x.a)(t);function t(){var e;Object(h.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=s.call.apply(s,[this].concat(a))).onPageChanged=function(s){e.props.setCurrentPage(s),e.props.toggleIsFetching(!0),G.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(s,"&count=").concat(e.props.pageSize)).then((function(s){e.props.toggleIsFetching(!1),e.props.setUsers(s.data.items)}))},e}return Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.toggleIsFetching(!0),0===this.props.users.length&&G.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(this.props.currentPage,"&count=").concat(this.props.pageSize)).then((function(s){e.props.toggleIsFetching(!1),e.props.setUsers(s.data.items)}))}},{key:"render",value:function(){return Object(u.jsxs)(u.Fragment,{children:[this.props.isFetching?Object(u.jsx)(w,{}):null,Object(u.jsx)(je,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow})]})}}]),t}(a.a.Component),ve=Object(z.b)((function(e){return{users:e.usersPage.users,pageSize:e.usersPage.pageSize,totalUsersCount:e.usersPage.totalUsersCount,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching}}),{follow:function(e){return{type:de,userId:e}},unfollow:function(e){return{type:pe,userId:e}},setUsers:function(e){return{type:be,users:e}},setCurrentPage:function(e){return{type:ge,currentPage:e}},setTotalUsersCount:function(e){return{type:Oe,totalUsersCount:e}},toggleIsFetching:function(e){return{type:he,isFetching:e}}})(xe);var _e=function(){return Object(u.jsxs)("div",{className:"app-wrapper",children:[Object(u.jsx)(j,{}),Object(u.jsx)(g,{}),Object(u.jsxs)("main",{className:"app-wrapper-content",children:[Object(u.jsx)(q.a,{path:"/profile/:userId?",render:function(){return Object(u.jsx)(K,{})}}),Object(u.jsx)(q.a,{path:"/messages",render:function(){return Object(u.jsx)(ae,{})}}),Object(u.jsx)(q.a,{path:"/users",render:function(){return Object(u.jsx)(ve,{})}}),Object(u.jsx)(q.a,{path:"/news",render:ce}),Object(u.jsx)(q.a,{path:"/music",render:re}),Object(u.jsx)(q.a,{path:"/options",render:ie})]})]})},Pe=t(31),we=Object(Pe.a)({profilePage:H,messagesPage:ne,usersPage:fe}),Ne=Object(Pe.b)(we);window.store=Ne;var Ce=Ne;r.a.render(Object(u.jsx)(b.a,{children:Object(u.jsx)(z.a,{store:Ce,children:Object(u.jsx)(_e,{})})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.cd365130.chunk.js.map